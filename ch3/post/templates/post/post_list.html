{% extends "base.html" %}
{% load static %}

{% block content %}

<h1>
    &nbsp;ğŸ” ì „ì²´ ê²Œì‹œê¸€
</h1>
<hr>

<!-- ë“¤ì—¬ì“°ê¸° ì ìš© -->
<div style="margin-left: 230px;">
    <!-- ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¼ ê¸€ì„ ì‘ì„±í•˜ê±°ë‚˜ ë¡œê·¸ì¸ í•˜ê¸° -->
    {% if request.user.is_authenticated %}
        <a href="{% url 'post:post_create' %}"><button>ê²Œì‹œê¸€ ì‘ì„±í•˜ê¸°</button></a>
    {% else %}
    <p><small>ë¡œê·¸ì¸ì„ í•´ì•¼ ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”</small></p>
    {% endif %}

    <a href="{% url 'post:category_list' %}"><button>ì¹´í…Œê³ ë¦¬ ë³„ ê²Œì‹œê¸€ ë³´ê¸°</button></a>
</div>

<ul>
    {% if posts %}
        {% for post in posts %}
            <li>
                <a href="{% url 'post:post_detail' post.pk %}">{{ post.title }}</a>
                <br>
                <!-- ì¹´í…Œê³ ë¦¬ê°€ ì—†ìœ¼ë©´ ì—†ìŒ, ìˆìœ¼ë©´ ê°’ ê°€ì ¸ì˜¤ê¸° -->
                {% if post.category is None %}
                    <small>ì¹´í…Œê³ ë¦¬: ì—†ìŒ</small>
                {% else %}
                    <small>ì¹´í…Œê³ ë¦¬: {{ post.category.name }}</small>
                {% endif %}
                <br>
                <small>ë§ˆì§€ë§‰ ìˆ˜ì •: {{ post.updated_at }}</small>
            </li>
            <br>
        {% endfor %}
    {% else %}
        <p> &nbsp;âœ–ï¸ì‘ì„±ëœ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.âœ–ï¸
            <br>
            <br>
        <img src="{% static "post/no_post_list.jpg" %}" alt="no post list" style="max-width:250px;">
        <p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No posts available.</p></p>
    {% endif %}
</ul>

{% endblock content %}